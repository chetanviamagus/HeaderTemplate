<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Greenheck - Building Value in Air</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&URL_ADDRESS"
    />

    <style>
      :root {
        --color-black: #000;
        --color-gray: #333;
        --color-light-gray: #666;
        --color-primary: #075697;
        --color-white: #fff;
        --border-radius: 21px;
        --font-family-base: 'HelveticaCE', sans-serif;
        --font-size-base: 14px;
        --font-size-nav: 18px;
        --transition-base: all 0.2s ease-in-out;
        --max-width-container: 1248px;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      /* Font Definitions */
      @font-face {
        font-family: 'Helvetica-Bold';
        src: url('./fonts/Helvetica-Bold.ttf') format('truetype');
        font-display: swap;
      }

      @font-face {
        font-family: 'Helvetica-Condensed-Black';
        src: url('./fonts/Helvetica-Condensed-Black.otf') format('opentype');
        font-display: swap;
      }

      @font-face {
        font-family: 'Helvetica-Condensed-Bold';
        src: url('./fonts/Helvetica-Condensed-Bold.otf') format('opentype');
        font-display: swap;
      }

      @font-face {
        font-family: 'Helvetica-Condensed';
        src: url('./fonts/Helvetica-Condensed.otf') format('opentype');
        font-display: swap;
      }

      @font-face {
        font-family: 'Helvetica-Narrow-Bold';
        src: url('./fonts/Helvetica-Narrow-Bold.otf') format('opentype');
        font-display: swap;
      }

      @font-face {
        font-family: 'Helvetica-Narrow-Oblique';
        src: url('./fonts/Helvetica-Narrow-Oblique.otf') format('opentype');
        font-display: swap;
      }

      @font-face {
        font-family: 'Helvetica';
        src: url('./fonts/Helvetica.otf') format('opentype');
        font-display: swap;
      }

      @font-face {
        font-family: 'HelveticaCE-CondBold';
        src: url('./fonts/HelveticaCE-CondBold.otf') format('opentype');
        font-display: swap;
      }

      @font-face {
        font-family: 'HelveticaCE-Narrow';
        src: url('./fonts/HelveticaCE-Narrow.otf') format('opentype');
        font-display: swap;
      }

      @font-face {
        font-family: 'HelveticaCE';
        src: url('./fonts/HelveticaCE.otf') format('opentype'),
          url('./fonts/HelveticaCE.woff') format('woff'),
          url('./fonts/HelveticaCE.woff2') format('woff2');
        font-display: swap;
      }

      @font-face {
        font-family: 'HelveticaConBQ-Medium';
        src: url('./fonts/HelveticaConBQ-Medium.otf') format('opentype');
        font-display: swap;
      }
      .material-symbols-outlined {
        font-size: 22px !important;
      }
      .text-17 {
        font-size: 17px !important;
      }
      /* eCAPS Button Styles */
      a.ecaps-header-nav {
        border-radius: 18px;
        background-color: #075697;
        height: 36px;
        color: rgba(255, 255, 255, 1);
        font-family: 'Helvetica-Condensed-Bold', sans-serif;
        font-size: 13px;
        font-weight: 700;
        letter-spacing: 0px;
        text-align: center;
        padding: 2px 16px;
        display: flex;
        align-items: center;
        gap: 6px;
        text-decoration: none;
      }

      .header-icon {
        font-size: 20px !important;
        color: white;
      }

      /* Add margin to create space between text and icons */
      .header-icon:first-of-type {
        margin-left: 4px;
      }

      a.ecaps-header-nav:hover {
        background-color: rgb(87 88 90) !important;
        color: rgba(255, 255, 255, 1) !important;
      }

      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      a.ecaps-header-nav:hover img {
        animation: spin 6s linear infinite;
      }

      a.ecaps-header-nav img {
        width: 27px;
      }
      /* Header Layout */
      .site-header {
        background-color: var(--color-white);
        border-top: 10px solid var(--color-primary);
      }

      .site-header__container {
        margin: 0 auto;
        max-width: var(--max-width-container);
        padding: 22px 0 26px;
      }

      /* Top Bar Section */
      .site-header__top-bar {
        align-items: center;
        display: flex;
        justify-content: flex-end;
        min-height: 26px;
        position: relative;
      }

      .site-header__center {
        align-items: center;
        display: flex;
        gap: 5px;
        left: 50%;
        position: absolute;
        top: 0;
        transform: translateX(-50%);
        white-space: nowrap;
      }

      .site-header__center-text {
        color: var(--color-primary);
        font-family: var(--font-family-base);
        font-size: var(--font-size-base);
      }

      .site-header__right {
        display: flex;
        gap: 15px;
        justify-content: flex-end;
        max-width: 400px;
        width: 100%;
      }

      /* Buttons and Links */
      .site-header__ecaps-button {
        background-color: var(--color-primary);
        border: 1px solid var(--color-primary);
        border-radius: var(--border-radius);
        color: var(--color-white);
        font-family: var(--font-family-base);
        font-size: var(--font-size-base);
        font-weight: 500;
        line-height: 20px;
        padding: 2px 12px;
        text-decoration: none;
      }

      .site-header__icon-button {
        color: var(--color-primary);
        font-family: var(--font-family-base);
        text-decoration: none;
      }

      .outline-medium-btn-with-icon {
        align-items: center;
        background-color: var(--color-white);
        border: 1px solid var(--color-primary);
        border-radius: var(--border-radius);
        color: var(--color-primary);
        display: flex;
        font-family: var(--font-family-base);
        font-size: 15px;
        font-weight: 500;
        gap: 6px;
        line-height: 20px;
        padding: 7px 18px;
        text-decoration: none;
        transition: var(--transition-base);
      }

      .outline-medium-btn-with-icon:hover {
        background-color: var(--color-primary);
        color: var(--color-white);
      }

      /* Logo and Navigation */
      .site-header__logo-nav-bar {
        align-items: flex-end;
        display: flex;
        justify-content: space-between;
      }

      .site-header__logo-nav-bar img {
        height: auto;
        margin-bottom: 8px;
        max-width: 287px;
        width: 100%;
      }

      .site-header__navigation {
        align-items: flex-end;
        display: flex;
        gap: 60px;
      }

      .site-header__nav-list {
        display: flex;
        gap: 62px;
        list-style: none;
      }

      .site-header__nav-item {
        position: relative;
      }

      .site-header__nav-link {
        color: var(--color-gray);
        font-family: var(--font-family-base);
        font-size: var(--font-size-nav);
        font-weight: 500;
        letter-spacing: 0;
        line-height: 24px;
        text-decoration: none;
        transition: var(--transition-base);
        display: inline-block;
        padding-bottom: 4px;
        position: relative;
      }

      .site-header__nav-link::after {
        content: '';
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 100%;
        height: 2px;
        background-color: #075697;
        transform: scaleX(0);
        transition: transform 0.2s;
      }

      .site-header__nav-link:hover::after,
      .site-header__nav-link[aria-expanded='true']::after {
        transform: scaleX(1);
      }

      .site-header__nav-link:hover {
        color: var(--color-primary);
        text-decoration: none;
      }

      /* Dropdown Menu */
      .dropdown-menu {
        position: fixed;
        top: 140px;
        left: 0;
        width: 100%;
        background-color: var(--color-white);
        border-radius: 0;
        box-shadow: 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        display: none;
        padding: 24px 0;
        margin: 0;
        transition: var(--transition-base);
        z-index: 1000;
      }

      .page-mask {
        position: fixed;
        top: 140px;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 999;
        display: none;
      }

      .dropdown-menu.active .dropdown-grid {
        opacity: 1;
      }

      .dropdown-menu > * {
        margin: 0 auto;
        max-width: var(--max-width-container);
        padding: 0 24px;
      }

      .dropdown-menu::before {
        content: none;
      }

      .dropdown-grid {
        background: var(--color-white);
        display: flex;
        flex-wrap: wrap;
        row-gap: 33px;
        column-gap: 10px;
        justify-content: center;
        margin: 0 auto;
        padding: 24px;
      }

      .dropdown-item {
        align-items: center;
        border: transparent 2px solid;
        border-radius: 8px;
        color: var(--color-gray);
        display: flex;
        flex-direction: column;
        font-family: var(--font-family-base);
        font-size: var(--font-size-base);
        gap: 12px;
        max-width: 124px;
        overflow: hidden;
        padding: 12px;
        text-align: center;
        text-decoration: none;
        transition: var(--transition-base);
        width: 100%;
      }

      .dropdown-item:hover {
        transform: translateY(-2px);
        color: var(--color-primary);
        border: 2px solid var(--color-primary);
      }

      .dropdown-icon {
        height: auto !important;
        object-fit: contain;
        transition: transform 0.2s ease;
        width: auto !important;
      }

      .dropdown-item:hover .dropdown-icon {
        transform: scale(1.05);
      }

      .dropdown-item span {
        font-size: var(--font-size-base);
        font-weight: 500;
        line-height: 1.2;
      }

      /* Submenu */
      .submenu {
        display: none;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        max-width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.95);
        padding: 20px 40px;
        box-sizing: border-box;
        z-index: 1002;
      }

      .submenu-content {
        max-width: var(--max-width-container);
        margin: 0 auto;
        position: relative;
        background-color: #fff;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }

      .submenu-header {
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin-bottom: 20px;
      }

      .submenu-header-top {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .submenu-header-bottom {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .submenu-title {
        font-family: var(--font-family-base);
        font-size: 24px;
        color: var(--color-black);
      }

      .submenu-close {
        cursor: pointer;
        color: var(--color-gray);
        transition: var(--transition-base);
      }

      .submenu-close:hover {
        color: var(--color-primary);
      }

      .submenu-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
      }

      .submenu-column {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .submenu-item {
        color: var(--color-gray);
        text-decoration: none;
        font-family: var(--font-family-base);
        font-size: var(--font-size-base);
        transition: var(--transition-base);
        padding: 8px 0;
      }

      .submenu-item:hover {
        color: var(--color-primary);
      }

      .submenu-back {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--color-gray);
        text-decoration: none;
        font-family: var(--font-family-base);
        font-size: var(--font-size-base);
        margin-bottom: 16px;
        cursor: pointer;
      }

      .submenu-back:hover {
        color: var(--color-primary);
      }

      /* Font Size and Weight */
      .font-size-22 {
        font-size: 22px;
      }

      .font_black {
        color: var(--color-black);
      }

      .font_weight {
        font-weight: 600;
      }

      /* Divider */
      .divder_line {
        background-color: var(--color-light-gray);
        height: 20px;
        margin: 0 10px;
        width: 1px;
      }

      /* Product Title */
      .h2_products {
        color: var(--color-black);
        font-family: var(--font-family-base);
        font-size: 22px;
        margin-left: 98px;
      }
    </style>
  </head>

  <body>
    <header class="site-header">
      <div class="site-header__container">
        <div class="site-header__top-bar">
          <div class="site-header__center">
            <div class="site-header__center-text">
              Experience Best-In-Class Product Selection with
            </div>
            <a href="#" class="ecaps-header-nav">
              <img alt="eCAPS" src="./imgs/icons/e-caps-icon.png" />
              eCAPS
            </a>
          </div>
          <div class="site-header__right font-size-22">
            <a href="#" class="site-header__icon-button">
              <span class="material-symbols-outlined font_black text">search</span>
            </a>
            <span class="divder_line"></span>
            <a href="#" class="site-header__icon-button">
              <span class="material-symbols-outlined font_black">manage_accounts</span>
            </a>
          </div>
        </div>
        <div class="site-header__logo-nav-bar">
          <img src="imgs/Greenheck_Logo_Horizontal_Blue.png" alt="Greenheck" />
          <nav class="site-header__navigation">
            <!-- Navigation will be dynamically generated here -->
            <a href="#" class="outline-medium-btn-with-icon">
              <span class="material-symbols-outlined text-17">clarify</span>
              Find My Rep</a
            >
          </nav>
        </div>
      </div>
    </header>
    <main>
      <div style="padding: 20px">
        <section style="margin-bottom: 40px">
          <h1>Welcome to Greenheck</h1>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor
            incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
            exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
          </p>
        </section>

        <section style="margin-bottom: 40px">
          <h2>Featured Products</h2>
          <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px">
            <div style="border: 1px solid #ddd; padding: 20px">
              <h3>Industrial Fans</h3>
              <p>
                High-performance industrial fans engineered for maximum efficiency and reliability.
              </p>
            </div>
            <div style="border: 1px solid #ddd; padding: 20px">
              <h3>Commercial Dampers</h3>
              <p>
                Premium quality dampers designed for optimal airflow control in commercial
                applications.
              </p>
            </div>
            <div style="border: 1px solid #ddd; padding: 20px">
              <h3>Architectural Louvers</h3>
              <p>
                Aesthetically pleasing louvers that provide excellent protection against weather
                elements.
              </p>
            </div>
          </div>
        </section>

        <section style="margin-bottom: 40px">
          <h2>Latest News</h2>
          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px">
            <article style="border: 1px solid #ddd; padding: 20px">
              <h3>New Product Launch</h3>
              <p>Introducing our latest innovation in air movement technology...</p>
            </article>
            <article style="border: 1px solid #ddd; padding: 20px">
              <h3>Industry Recognition</h3>
              <p>Greenheck receives prestigious award for energy efficiency...</p>
            </article>
          </div>
        </section>

        <section style="margin-bottom: 40px">
          <h2>Case Studies</h2>
          <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px">
            <div style="border: 1px solid #ddd; padding: 20px">
              <h3>Healthcare Facility</h3>
              <p>
                Implementation of advanced ventilation systems in modern healthcare facilities...
              </p>
            </div>
            <div style="border: 1px solid #ddd; padding: 20px">
              <h3>Educational Campus</h3>
              <p>Energy-efficient solutions for university building complexes...</p>
            </div>
            <div style="border: 1px solid #ddd; padding: 20px">
              <h3>Industrial Complex</h3>
              <p>Custom ventilation solutions for large manufacturing facilities...</p>
            </div>
          </div>
        </section>

        <section style="margin-bottom: 40px">
          <h2>Resources</h2>
          <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px">
            <div style="border: 1px solid #ddd; padding: 20px">
              <h3>Technical Documents</h3>
              <p>Access product specifications, installation guides, and technical data sheets.</p>
            </div>
            <div style="border: 1px solid #ddd; padding: 20px">
              <h3>Training Materials</h3>
              <p>Educational resources for product installation and maintenance.</p>
            </div>
            <div style="border: 1px solid #ddd; padding: 20px">
              <h3>Design Tools</h3>
              <p>Software and calculators for system design and specification.</p>
            </div>
            <div style="border: 1px solid #ddd; padding: 20px">
              <h3>Support Center</h3>
              <p>Contact information and troubleshooting guides for technical support.</p>
            </div>
          </div>
        </section>
      </div>
    </main>
    <div id="footer-placeholder"></div>
    <link rel="stylesheet" href="footer.css">
    <script src="footer.js"></script>
    <script>
      fetch('footer.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('footer-placeholder').innerHTML = data;
        });
    </script>
    <script>
      // Navigation data
      const navigationData = {
        mainNav: [
          {
            title: 'Products',
            type: 'megamenu',
            layout: 'mega',
            items: [
              {
                title: 'Fans',
                icon: 'imgs/Fans.png',
                submenu: {
                  title: 'Fans',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Roof Exhaust',
                        'Roof Supply',
                        'Wall Mounted',
                        'Ceiling Exhaust',
                        'Inline',
                      ],
                    },
                    { items: ['Blowers', 'Gravity', 'Overhead HVLS', 'Plenums', 'Fume Exhaust'] },
                    {
                      items: [
                        'Directional Destratification',
                        'Laboratory Exhaust',
                        'Arrays',
                        'Circulators',
                        'Condenser',
                      ],
                    },
                  ],
                },
              },
              {
                title: 'Dampers',
                icon: 'imgs/Dampers.png',
                submenu: {
                  title: 'Dampers',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Control Dampers',
                        'Backdraft Dampers',
                        'Industrial Dampers',
                        'Fire Dampers',
                        'Smoke Dampers',
                      ],
                    },
                    {
                      items: [
                        'Combination Fire/Smoke Dampers',
                        'Ceiling Radiation Dampers',
                        'Corridor Dampers',
                        'Heavy Duty Dampers',
                        'Blast Dampers',
                      ],
                    },
                    {
                      items: [
                        'Tunnel Dampers',
                        'Marine Dampers',
                        'Specialty Dampers',
                        'Custom Dampers',
                      ],
                    },
                  ],
                },
              },
              {
                title: 'Louvers',
                icon: 'imgs/Louvers.png',
                submenu: {
                  title: 'Louvers',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Stationary Louvers',
                        'Adjustable Louvers',
                        'Combination Louvers',
                        'Wind-Driven Rain Louvers',
                      ],
                    },
                    {
                      items: [
                        'Hurricane Louvers',
                        'Acoustic Louvers',
                        'Equipment Screens',
                        'Penthouses',
                      ],
                    },
                    { items: ['Sand Louvers', 'Specialty Louvers', 'Custom Louvers'] },
                  ],
                },
              },
              {
                title: 'Grilles, Registers & Diffusers',
                icon: 'imgs/GrillesRegistersDiffusers.png',
                submenu: {
                  title: 'Grilles, Registers & Diffusers',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Supply Grilles',
                        'Return Grilles',
                        'Linear Grilles',
                        'Security Grilles',
                      ],
                    },
                    {
                      items: [
                        'Ceiling Diffusers',
                        'Linear Diffusers',
                        'High Performance Diffusers',
                        'Displacement Diffusers',
                      ],
                    },
                    { items: ['Nozzle Diffusers', 'Custom Grilles & Diffusers'] },
                  ],
                },
              },
              {
                title: 'Air Terminal Units',
                icon: 'imgs/AirTerminalUnits.png',
                submenu: {
                  title: 'Air Terminal Units',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Single Duct Terminal Units',
                        'Fan-Powered Terminal Units',
                        'Dual Duct Terminal Units',
                        'Retrofit Terminal Units',
                        'Chilled Beams',
                      ],
                    },
                    {
                      items: [
                        'VAV Diffusers',
                        'Terminal Unit Controls',
                        'Sound Attenuators',
                        'Bypass Terminal Units',
                        'Flow Measuring Stations',
                      ],
                    },
                    {
                      items: [
                        'Induction Terminal Units',
                        'Custom Terminal Units',
                        'Terminal Unit Accessories',
                        'Pressure Independent Control Valves',
                      ],
                    },
                  ],
                },
              },
              {
                title: 'Energy Recovery',
                icon: 'imgs/EnergyRecovery.png',
                submenu: {
                  title: 'Energy Recovery',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Energy Recovery Ventilators',
                        'Enthalpy Wheels',
                        'Fixed Plate Exchangers',
                        'Heat Pipes',
                        'Run-Around Loops',
                      ],
                    },
                    {
                      items: [
                        'Packaged Energy Recovery Units',
                        'Indoor Energy Recovery Units',
                        'Heat Recovery Coils',
                        'Energy Recovery Controls',
                        'Desiccant Dehumidification',
                      ],
                    },
                    {
                      items: [
                        'Energy Recovery Accessories',
                        'Custom Energy Recovery Solutions',
                        'High Efficiency Filtration',
                        'Heat Recovery Chillers',
                      ],
                    },
                  ],
                },
              },
              {
                title: '100% Outdoor Air',
                icon: 'imgs/100OutdoorAir.png',
                submenu: {
                  title: '100% Outdoor Air',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Dedicated Outdoor Air Systems (DOAS)',
                        'Make-Up Air Units',
                        'Packaged Outdoor Air Systems',
                        'High Efficiency Filtration',
                        'Outdoor Air Preconditioning',
                      ],
                    },
                    {
                      items: [
                        'Variable Air Volume Systems',
                        'Single Zone Systems',
                        'Constant Volume Systems',
                        'Indirect/Direct Evaporative Cooling',
                        'Dehumidification Systems',
                      ],
                    },
                    {
                      items: [
                        'Indoor Air Quality Monitors',
                        'Fresh Air Controls',
                        'Outdoor Air Measurement',
                        'Custom Outdoor Air Systems',
                        'Ventilation Rate Procedures',
                      ],
                    },
                  ],
                },
              },
              {
                title: 'Rooftop Units',
                icon: 'imgs/RooftopUnits.png',
                submenu: {
                  title: 'Rooftop Units',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Packaged Rooftop Units',
                        'Split System Rooftop Units',
                        'VAV Rooftop Units',
                        'Single Zone Rooftop Units',
                        'High Efficiency Rooftop Units',
                      ],
                    },
                    {
                      items: [
                        'Heat Pump Rooftop Units',
                        'Gas/Electric Rooftop Units',
                        'Electric/Electric Rooftop Units',
                        'Makeup Air Rooftop Units',
                        'Custom Rooftop Units',
                      ],
                    },
                    {
                      items: [
                        'Rooftop Unit Controls',
                        'Rooftop Unit Accessories',
                        'Rooftop Unit Curbs',
                        'Economizer Packages',
                        'Rooftop Unit Service',
                      ],
                    },
                  ],
                },
              },
              {
                title: 'Tampered Ventilation',
                icon: 'imgs/TamperedVentilation.png',
                submenu: {
                  title: 'Tempered Ventilation',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Direct-Fired Makeup Air Units',
                        'Indirect-Fired Makeup Air Units',
                        'Gas-Fired Heating Units',
                        'Electric Heating Units',
                        'Hot Water Heating Units',
                      ],
                    },
                    {
                      items: [
                        'Steam Heating Units',
                        'Cooling Coils',
                        'Recirculation Units',
                        'Variable Volume Units',
                        'Packaged DX Units',
                      ],
                    },
                    {
                      items: [
                        'Heat Recovery Units',
                        'Filtered Supply Units',
                        'Ventilation Controls',
                        'Custom Tempered Ventilation',
                        'Kitchen Ventilation Systems',
                      ],
                    },
                  ],
                },
              },
              {
                title: 'Space Heating',
                icon: 'imgs/SpaceHeating.png',
                submenu: {
                  title: 'Space Heating',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Unit Heaters',
                        'Cabinet Unit Heaters',
                        'Duct Furnaces',
                        'Infrared Heaters',
                        'Door Heaters',
                      ],
                    },
                    {
                      items: [
                        'Air Curtains',
                        'Radiant Heating',
                        'Electric Heaters',
                        'Gas-Fired Heaters',
                        'Hot Water Heaters',
                      ],
                    },
                    {
                      items: [
                        'Steam Heaters',
                        'Heat Pumps',
                        'Custom Heating Solutions',
                        'Heating Controls',
                        'Heating Accessories',
                      ],
                    },
                  ],
                },
              },
              {
                title: 'Airflow Measurement',
                icon: 'imgs/AirflowMeasurement.png',
                submenu: {
                  title: 'Airflow Measurement',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Airflow Measuring Stations',
                        'Thermal Dispersion Sensors',
                        'Vortex Shedding Sensors',
                        'Hot Wire Anemometers',
                        'Pitot Arrays',
                      ],
                    },
                    {
                      items: [
                        'Differential Pressure Sensors',
                        'Outdoor Airflow Measurement',
                        'Indoor Airflow Measurement',
                        'Duct Mounted Airflow Sensors',
                        'Fan Inlet Sensors',
                      ],
                    },
                    {
                      items: [
                        'Damper Mounted Airflow Sensors',
                        'Terminal Unit Sensors',
                        'Airflow Measurement Controls',
                        'Calibration Services',
                        'Custom Measurement Solutions',
                      ],
                    },
                  ],
                },
              },
              {
                title: 'Healthcare, Laboratories & Cleanrooms',
                icon: 'imgs/HealthcareLaboratoriesCleanrooms.png',
                submenu: {
                  title: 'Healthcare, Laboratories & Cleanrooms',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Isolation Room Systems',
                        'Operating Room Systems',
                        'Laboratory Exhaust Systems',
                        'Fume Hood Controls',
                        'Cleanroom Systems',
                      ],
                    },
                    {
                      items: [
                        'HEPA Filtration Units',
                        'Laminar Flow Systems',
                        'Pressurization Controls',
                        'Air Quality Monitoring',
                        'Room Pressure Monitors',
                      ],
                    },
                    {
                      items: [
                        'Biological Safety Solutions',
                        'Pharmaceutical Applications',
                        'Critical Environment Controls',
                        'Containment Systems',
                        'Custom Healthcare Solutions',
                      ],
                    },
                  ],
                },
              },
              {
                title: 'Accessories & Complimentary Products',
                icon: 'imgs/AccessoriesComplimentaryProducts.png',
                submenu: {
                  title: 'Accessories & Complimentary Products',
                  viewAll: true,
                  columns: [
                    {
                      items: [
                        'Roof Curbs',
                        'Isolation Bases',
                        'Gravity Ventilators',
                        'Mounting Systems',
                        'Weather Hoods',
                      ],
                    },
                    {
                      items: [
                        'Filters & Filter Housings',
                        'Silencers & Sound Attenuators',
                        'Backdraft Dampers',
                        'Control Dampers',
                        'Vibration Isolation',
                      ],
                    },
                    {
                      items: [
                        'Duct Accessories',
                        'Flex Connectors',
                        'Control Systems',
                        'Sensors & Monitoring',
                        'Installation Hardware',
                      ],
                    },
                  ],
                },
              },
            ],
          },
          {
            title: 'Building Type',
            type: 'dropdown',
            layout: 'standard',
            items: [
              { title: 'K-12 School', row: 1 },
              { title: 'Higher Education', row: 1 },
              { title: 'Multi-Family', row: 1 },
              { title: 'Healthcare Facility', row: 2 },
              { title: 'Manufacturing', row: 2 },
              { title: 'Laboratory', row: 2 },
            ],
          },
          {
            title: 'Resources',
            type: 'dropdown',
            layout: 'standard',
            items: [
              { title: 'Resource Library', row: 1 },
              { title: 'Catalogs', row: 1 },
              { title: 'Specifications', row: 1 },
              { title: 'Videos', row: 2 },
              { title: 'Installation Manuals', row: 2 },
              { title: 'Application Articles', row: 2 },
              { title: 'Blog', row: 3 },
              { title: 'Case Studies', row: 3 },
              { title: 'Software', row: 3 },
            ],
          },
          {
            title: 'Education',
            type: 'dropdown',
            layout: 'standard',
            items: [
              { title: 'HVAC University', row: 1 },
              { title: 'Online Training', row: 1 },
            ],
          },
          {
            title: 'Support',
            type: 'dropdown',
            layout: 'standard',
            items: [
              { title: 'Pre-Construction', row: 1 },
              { title: 'Post-Construction', row: 1 },
              { title: 'Contact Us', row: 1 },
            ],
          },
        ],
      };

      // MenuBuilder class
      class MenuBuilder {
        constructor(data) {
          this.data = data;
        }

        createMainNav() {
          const navList = document.createElement('ul');
          navList.className = 'site-header__nav-list';

          this.data.mainNav.forEach(item => {
            const navItem = this.createNavItem(item);
            navList.appendChild(navItem);
          });

          return navList;
        }

        createNavItem(item) {
          const li = document.createElement('li');
          li.className = 'site-header__nav-item';

          const link = document.createElement('a');
          link.href = '#';
          link.className = 'site-header__nav-link';
          link.textContent = item.title;
          li.appendChild(link);

          if (item.type === 'megamenu' || item.type === 'dropdown') {
            const dropdownMenu =
              item.layout === 'mega'
                ? this.createMegaMenu(item)
                : this.createStandardDropdown(item);
            li.appendChild(dropdownMenu);
          }

          return li;
        }

        createStandardDropdown(item) {
          const dropdownMenu = document.createElement('div');
          dropdownMenu.className = 'dropdown-menu standard-dropdown';
          dropdownMenu.id = `dropdown-${item.title.toLowerCase().replace(/[^a-z0-9]+/g, '-')}`;

          const header = document.createElement('h2');
          header.className = 'dropdown-header';
          header.textContent = item.title;
          dropdownMenu.appendChild(header);

          const grid = document.createElement('div');
          grid.className = 'dropdown-grid standard-grid';

          // Group items by row
          const rows = item.items.reduce((acc, menuItem) => {
            const rowNum = menuItem.row || 1;
            if (!acc[rowNum]) acc[rowNum] = [];
            acc[rowNum].push(menuItem);
            return acc;
          }, {});

          // Create rows
          Object.keys(rows).forEach(rowNum => {
            const rowDiv = document.createElement('div');
            rowDiv.className = 'dropdown-row';

            rows[rowNum].forEach(menuItem => {
              const link = document.createElement('a');
              link.href = '#';
              link.className = 'dropdown-item standard-item';
              link.textContent = menuItem.title;
              rowDiv.appendChild(link);
            });

            grid.appendChild(rowDiv);
          });

          dropdownMenu.appendChild(grid);
          return dropdownMenu;
        }

        createMegaMenu(item) {
          const dropdownMenu = document.createElement('div');
          dropdownMenu.className = 'dropdown-menu';
          dropdownMenu.id = `dropdown-${item.title.toLowerCase().replace(/[^a-z0-9]+/g, '-')}`;

          if (item.title === 'Products') {
            const title = document.createElement('h2');
            title.className = 'h2_products';
            title.textContent = item.title;
            dropdownMenu.appendChild(title);

            const grid = document.createElement('div');
            grid.className = 'dropdown-grid';

            item.items.forEach(product => {
              const productLink = this.createProductItem(product);
              grid.appendChild(productLink);

              // Create the submenu and append it directly to the dropdown
              if (product.submenu) {
                const submenu = this.createSubmenu(product);
                // Append submenu directly to dropdown instead of grid
                dropdownMenu.appendChild(submenu);
              }
            });

            dropdownMenu.appendChild(grid);
          }

          return dropdownMenu;
        }

        createProductItem(product) {
          const link = document.createElement('a');
          link.href = '#';
          link.className = 'dropdown-item';
          if (product.submenu) {
            // Create a unique identifier for each submenu based on product title
            const submenuId = `submenu-${product.title.toLowerCase().replace(/[^a-z0-9]+/g, '-')}`;
            link.setAttribute('data-submenu-trigger', '');
            link.setAttribute('data-submenu-target', `#${submenuId}`);
          }

          const img = document.createElement('img');
          img.src = product.icon;
          img.alt = product.title;
          img.className = 'dropdown-icon';

          const span = document.createElement('span');
          span.textContent = product.title;

          link.appendChild(img);
          link.appendChild(span);

          return link;
        }

        createSubmenu(product) {
          const submenu = document.createElement('div');
          // Add a unique ID based on product title
          submenu.id = `submenu-${product.title.toLowerCase().replace(/[^a-z0-9]+/g, '-')}`;
          submenu.className = 'submenu';

          const content = document.createElement('div');
          content.className = 'submenu-content';

          const header = this.createSubmenuHeader(product.submenu);
          content.appendChild(header);

          if (product.submenu.columns) {
            const grid = document.createElement('div');
            grid.className = 'submenu-grid';

            product.submenu.columns.forEach(column => {
              const columnDiv = document.createElement('div');
              columnDiv.className = 'submenu-column';

              column.items.forEach(item => {
                const link = document.createElement('a');
                link.href = '#';
                link.className = 'submenu-item';
                link.textContent = item;
                columnDiv.appendChild(link);
              });

              grid.appendChild(columnDiv);
            });

            content.appendChild(grid);
          }

          submenu.appendChild(content);
          return submenu;
        }

        createSubmenuHeader(submenu) {
          const header = document.createElement('div');
          header.className = 'submenu-header';

          const headerTop = document.createElement('div');
          headerTop.className = 'submenu-header-top';

          const backLink = document.createElement('a');
          backLink.className = 'submenu-back';
          const backIcon = document.createElement('span');
          backIcon.className = 'material-symbols-outlined';
          backIcon.textContent = 'arrow_back';
          backLink.appendChild(backIcon);
          backLink.appendChild(document.createTextNode('Product Menu'));

          const closeIcon = document.createElement('span');
          closeIcon.className = 'submenu-close material-symbols-outlined';
          closeIcon.textContent = 'close';

          headerTop.appendChild(backLink);
          headerTop.appendChild(closeIcon);

          const headerBottom = document.createElement('div');
          headerBottom.className = 'submenu-header-bottom';

          const title = document.createElement('h2');
          title.className = 'submenu-title';
          title.textContent = submenu.title;

          const viewAllLink = document.createElement('a');
          viewAllLink.href = '#';
          viewAllLink.className = 'submenu-item';
          viewAllLink.textContent = 'View All';

          headerBottom.appendChild(title);
          if (submenu.viewAll) {
            headerBottom.appendChild(viewAllLink);
          }

          header.appendChild(headerTop);
          header.appendChild(headerBottom);

          return header;
        }

        createDropdown(item) {
          const dropdownMenu = document.createElement('div');
          dropdownMenu.className = 'dropdown-menu';
          dropdownMenu.id = `dropdown-${item.title.toLowerCase().replace(/[^a-z0-9]+/g, '-')}`;

          const grid = document.createElement('div');
          grid.className = 'dropdown-grid';

          item.items.forEach(itemText => {
            const link = document.createElement('a');
            link.href = '#';
            link.className = 'dropdown-item';
            link.textContent = itemText;
            grid.appendChild(link);
          });

          dropdownMenu.appendChild(grid);
          return dropdownMenu;
        }
      }

      // Add new styles for standard dropdown
      const styleSheet = document.createElement('style');
      styleSheet.textContent = `
      .standard-dropdown {
        min-width: 600px;
        padding: 24px;
      }

      .dropdown-header {
        color: var(--color-black);
        font-family: var(--font-family-base);
        font-size: 22px;
        margin-bottom: 20px;
      }

      .standard-grid {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .dropdown-row {
        display: flex;
        justify-content: center;
        gap: 40px;
      }

      .standard-item {
        color: var(--color-gray);
        text-decoration: none;
        font-family: var(--font-family-base);
        font-size: var(--font-size-base);
        transition: var(--transition-base);
        padding: 8px 16px;
        border-radius: 4px;
      }

      .standard-item:hover {
        color: var(--color-primary);
        background-color: rgba(7, 86, 151, 0.05);
      }
    `;
      document.head.appendChild(styleSheet);

      // MenuState and MenuManager classes
      class MenuState {
        constructor() {
          this.activeDropdown = null;
          this.activeSubmenu = null;
          this.observers = [];
          this.pageMask = null;
          this.activeNavLink = null;
        }

        subscribe(observer) {
          this.observers.push(observer);
        }

        notify() {
          this.observers.forEach(observer => observer(this));
        }

        setActiveDropdown(dropdown, navLink) {
          // Reset previous active nav link
          if (this.activeNavLink && this.activeNavLink !== navLink) {
            this.activeNavLink.setAttribute('aria-expanded', 'false');
          }

          // Set new state
          this.activeDropdown = dropdown;
          this.activeNavLink = navLink;

          if (navLink) {
            navLink.setAttribute('aria-expanded', 'true');
          }

          this.toggleBodyScroll(true);
          this.togglePageMask(true);
          this.notify();
        }

        setActiveSubmenu(submenu) {
          this.activeSubmenu = submenu;
          if (submenu && this.activeDropdown) {
            // Show the selected submenu
            submenu.style.display = 'block';

            // Make sure the dropdown grid doesn't block pointer events
            const grid = this.activeDropdown.querySelector('.dropdown-grid');
            if (grid) {
              grid.style.pointerEvents = 'none';
            }

            // Make sure the dropdown stays fully opaque
            this.activeDropdown.style.opacity = '1';
          }
          this.notify();
        }

        closeAll() {
          this.activeDropdown = null;
          this.activeSubmenu = null;

          // Reset aria-expanded on all nav links
          document.querySelectorAll('.site-header__nav-link').forEach(link => {
            link.setAttribute('aria-expanded', 'false');
          });

          this.activeNavLink = null;

          document.querySelectorAll('.dropdown-menu').forEach(menu => {
            menu.classList.remove('active');
          });
          this.toggleBodyScroll(false);
          this.togglePageMask(false);
          this.notify();
        }

        toggleBodyScroll(disable) {
          if (disable) {
            document.body.style.overflow = 'hidden';
          } else {
            document.body.style.overflow = '';
          }
        }

        togglePageMask(show) {
          if (!this.pageMask) {
            this.pageMask = document.createElement('div');
            this.pageMask.className = 'page-mask';
            document.body.appendChild(this.pageMask);

            this.pageMask.addEventListener('click', () => {
              this.closeAll();
            });
          }

          this.pageMask.style.display = show ? 'block' : 'none';
        }

        closeSubmenuOnly() {
          // Close only the active submenu, keep the dropdown open
          this.activeSubmenu = null;

          // Restore dropdown grid visibility
          if (this.activeDropdown) {
            const grid = this.activeDropdown.querySelector('.dropdown-grid');
            if (grid) {
              grid.style.pointerEvents = 'auto';
              grid.style.visibility = 'visible';
              grid.style.display = 'flex';
            }
          }

          this.notify();
        }
      }

      class MenuStrategy {
        handleMenuClick(menuState, dropdown) {
          const grid = dropdown.querySelector('.dropdown-grid');
          if (grid) {
            grid.style.display = 'flex';
            grid.style.visibility = 'visible';
            grid.style.pointerEvents = 'auto';
          }
          dropdown.style.display = 'block';
          dropdown.style.opacity = '1';
          dropdown.classList.add('active');
        }
      }

      class MegaMenuStrategy extends MenuStrategy {
        handleMenuClick(menuState, dropdown) {
          const grid = dropdown.querySelector('.dropdown-grid');
          if (grid) {
            grid.style.display = 'flex';
            grid.style.visibility = 'visible';
            grid.style.pointerEvents = 'auto';
          }
          dropdown.style.display = 'block';
          dropdown.style.opacity = '1';
        }
      }

      class SubmenuStrategy extends MenuStrategy {
        handleMenuClick(menuState, dropdown) {
          dropdown.style.display = 'block';
          dropdown.style.opacity = '1';
        }
      }

      class MenuManager {
        constructor() {
          this.state = new MenuState();
          this.megaMenuStrategy = new MegaMenuStrategy();
          this.submenuStrategy = new SubmenuStrategy();
          this.hoverDelay = 200;
          this.hoverTimeout = null;
          this.init();
        }

        init() {
          this.setupStateObserver();
          this.setupEventDelegation();
          this.setupOutsideClickHandler();
          this.setupMouseLeaveHandler();
          this.setupKeyboardHandler();
          this.setupHoverHandlers();
        }

        setupHoverHandlers() {
          document.querySelectorAll('.site-header__nav-item').forEach(item => {
            const navLink = item.querySelector('.site-header__nav-link');
            const dropdown = item.querySelector('.dropdown-menu');

            if (dropdown) {
              // Show dropdown on hover for all nav items including Products
              item.addEventListener('mouseenter', () => {
                clearTimeout(this.hoverTimeout);
                this.hoverTimeout = setTimeout(() => {
                  this.state.setActiveDropdown(dropdown, navLink);
                }, this.hoverDelay);
              });
            }
          });

          // Remove hover behavior from submenu back button - only use clicks
          document.removeEventListener('mouseover', this.submenuBackHandler);
        }

        setupMouseLeaveHandler() {
          document.querySelectorAll('.site-header__nav-item').forEach(item => {
            const navLink = item.querySelector('.site-header__nav-link');

            // Add mouseleave handler for all menu items including Products
            item.addEventListener('mouseleave', e => {
              clearTimeout(this.hoverTimeout);

              // Only close if not moving to dropdown or submenu
              if (
                !e.relatedTarget?.closest('.submenu') &&
                !e.relatedTarget?.closest('.dropdown-menu') &&
                !e.relatedTarget?.closest('.site-header__nav-item')
              ) {
                this.hoverTimeout = setTimeout(() => {
                  this.state.closeAll();
                }, this.hoverDelay);
              }
            });
          });

          // Keep mouseout handling for all menus
          document.addEventListener('mouseout', e => {
            // Safe check for target element
            if (!e.target) return;

            if (
              e.target.closest('.dropdown-menu') &&
              !e.relatedTarget?.closest('.dropdown-menu') &&
              !e.relatedTarget?.closest('.submenu') &&
              !e.relatedTarget?.closest('.site-header__nav-item')
            ) {
              this.hoverTimeout = setTimeout(() => {
                this.state.closeAll();
              }, this.hoverDelay);
            }

            if (
              e.target.closest('.submenu') &&
              !e.relatedTarget?.closest('.submenu') &&
              !e.relatedTarget?.closest('.dropdown-menu') &&
              !e.relatedTarget?.closest('.site-header__nav-item')
            ) {
              this.hoverTimeout = setTimeout(() => {
                this.state.closeAll();
              }, this.hoverDelay);
            }
          });
        }

        setupKeyboardHandler() {
          document.addEventListener('keydown', e => {
            if (e.key === 'Escape' && (this.state.activeDropdown || this.state.activeSubmenu)) {
              this.state.closeAll();
            }
          });
        }

        setupStateObserver() {
          this.state.subscribe(state => {
            // First hide all dropdowns except the active one
            document.querySelectorAll('.dropdown-menu').forEach(dropdown => {
              if (dropdown !== state.activeDropdown) {
                dropdown.style.display = 'none';
                dropdown.style.opacity = '1';
                const grid = dropdown.querySelector('.dropdown-grid');
                if (grid) {
                  grid.style.display = 'none';
                }
              } else if (state.activeSubmenu) {
                const grid = dropdown.querySelector('.dropdown-grid');
                if (grid) {
                  grid.style.pointerEvents = 'none';
                }
                // Ensure dropdown remains fully visible
                dropdown.style.opacity = '1';
              }
            });

            // Hide all submenus except the active one
            document.querySelectorAll('.submenu').forEach(submenu => {
              if (submenu !== state.activeSubmenu) {
                submenu.style.display = 'none';
              } else {
                submenu.style.display = 'block';
                submenu.style.pointerEvents = 'auto';
              }
            });

            // Show active dropdown if exists
            if (state.activeDropdown) {
              const hasGrid = state.activeDropdown.querySelector('.dropdown-grid');
              const strategy = hasGrid ? this.megaMenuStrategy : this.submenuStrategy;
              strategy.handleMenuClick(state, state.activeDropdown);
            }

            if (state.activeSubmenu) {
              state.activeSubmenu.style.display = 'block';
              state.activeSubmenu.style.pointerEvents = 'auto';

              if (state.activeDropdown) {
                // Keep dropdown fully visible
                state.activeDropdown.style.opacity = '1';

                const grid = state.activeDropdown.querySelector('.dropdown-grid');
                if (grid) {
                  grid.style.pointerEvents = 'none';
                }
              }
            } else if (state.activeDropdown) {
              const grid = state.activeDropdown.querySelector('.dropdown-grid');
              if (grid) {
                grid.style.pointerEvents = 'auto';
              }
            }
          });
        }

        setupEventDelegation() {
          document.addEventListener('click', e => {
            // Handle nav links
            if (e.target.closest('.site-header__nav-link')) {
              e.preventDefault();
              const navLink = e.target.closest('.site-header__nav-link');
              const navItem = navLink.closest('.site-header__nav-item');
              const dropdown = navItem.querySelector('.dropdown-menu');

              if (dropdown) {
                if (this.state.activeDropdown === dropdown) {
                  this.state.closeAll();
                } else {
                  this.state.setActiveDropdown(dropdown, navLink);
                }
              }
            }

            // Handle submenu triggers
            if (e.target.closest('[data-submenu-trigger]')) {
              e.preventDefault();
              const trigger = e.target.closest('[data-submenu-trigger]');
              const submenuTarget = trigger.getAttribute('data-submenu-target');
              const submenu = document.querySelector(submenuTarget);

              if (submenu) {
                // Remove any existing submenu from DOM (DON'T ACTUALLY REMOVE THEM)
                document.querySelectorAll('.submenu').forEach(existingSubmenu => {
                  if (existingSubmenu !== submenu) {
                    existingSubmenu.style.display = 'none'; // Hide instead of removing
                  }
                });

                // Position submenu inside the dropdown
                this.state.setActiveSubmenu(submenu);
              }
            }

            // Handle back button or Product Menu text click
            if (
              e.target.closest('.submenu-back') ||
              (e.target.closest('.submenu-back') &&
                e.target.textContent.trim() === 'Product Menu') ||
              (e.target.textContent && e.target.textContent.trim() === 'Product Menu')
            ) {
              e.preventDefault();
              e.stopPropagation();

              // Close submenu and restore dropdown grid
              if (this.state.activeDropdown) {
                const grid = this.state.activeDropdown.querySelector('.dropdown-grid');
                if (grid) {
                  grid.style.pointerEvents = 'auto';
                  grid.style.visibility = 'visible';
                  grid.style.display = 'flex';
                }
              }

              this.state.setActiveSubmenu(null);
            }

            // Handle close button - only close the submenu, not the whole dropdown
            if (e.target.closest('.submenu-close')) {
              e.preventDefault();
              e.stopPropagation();
              this.state.closeSubmenuOnly();
            }

            // Dismiss submenu when clicking outside submenu-content but inside submenu
            if (
              this.state.activeSubmenu &&
              !e.target.closest('.submenu-content') &&
              !e.target.closest('[data-submenu-trigger]')
            ) {
              e.preventDefault();
              e.stopPropagation();
              this.state.closeSubmenuOnly();
            }
          });
        }

        setupOutsideClickHandler() {
          document.addEventListener('click', e => {
            if (!e.target.closest('.site-header__nav-item')) {
              this.state.closeAll();
            }
          });
        }
      }

      // Initialize menu when DOM is ready
      document.addEventListener('DOMContentLoaded', () => {
        const menuBuilder = new MenuBuilder(navigationData);
        const navigation = document.querySelector('.site-header__navigation');
        const existingNavList = navigation.querySelector('.site-header__nav-list');
        const newNavList = menuBuilder.createMainNav();

        if (existingNavList) {
          navigation.replaceChild(newNavList, existingNavList);
        } else {
          navigation.insertBefore(newNavList, navigation.firstChild);
        }

        new MenuManager();
      });
    </script>
  </body>
</html>
